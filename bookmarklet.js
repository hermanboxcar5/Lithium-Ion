javascript:window['LithiumGlobalPage']=window.open('about:blank', '_blank', 'popup'); LithiumGlobalPage.document.write("<!DOCTYPE html> <html> <head> <meta charset='utf-8'> <meta name='viewport' content='width=device-widt'> <title>Lithium Ion V2.25</title> </head> <body> <script > (async function () { const headElement = document.getElementsByTagName('head')[0]; const bodyElement = document.getElementsByTagName('body')[0]; const rootElement = document.createElement('jsconsole'); const jsInputElement = document.createElement('input'); const styleElement = document.createElement('style'); jsInputElement.className = 'js'; jsInputElement.id='jsinput'; rootElement.id='jsconsole'; styleElement.innerHTML = ` body { background-color:rgb(25, 39, 52); } jsconsole { position: fixed; left: 0px; right: 0px; bottom: 5vh; height: 90vh; background-color: background-color:rgb(25, 39, 52); z-index: 99999999999999999999; display: flex; flex-direction: column; overflow-y: scroll; padding: 2px; } jsconsole.hide { display: none; } jsconsole span { font-family: 'Courier New', Courier, monospace; color: white; opacity: 1; font-size: medium; } jsconsole .error { color: red; } jsconsole .warn { color: yellow; } jscontainer span { color: gray; font-family: 'Courier New', Courier, monospace; opacity: 1; font-size: small; } jscontainer.open span { color: white; } jscontainer, jscontainer.open items { display: flex; flex-direction: row; } jscontainer.open, jscontainer.open items { flex-direction: column; } button.js { position: fixed; bottom: 0px; right: 0px; opacity: 1; color: white; background-color: black; border: 0px; border-radius: 5px; padding: 3px; z-index: 999999999999999999999; } input.js { position: fixed; bottom: 0px; left: 0px; right: 0px; border: 2px white solid; border-radius: 2px; font-family: 'Courier New', Courier, monospace; font-size: 14px; background-color: rgb(25, 39, 52); color: white; z-index: 99999999999999999999; } `; let logItems = []; function createPreview(data, key) { let output = ''; const keys = Object.keys(data); const cap = 9; for (let i = 0; i < Math.min(keys.length, cap); i++) { if (i == Math.min(keys.length, cap) - 1) { output += keys[i]; } else { output += keys[i] + ', '; } } const keyDisp = `${key ?%20key%20+%20%27:%20%27%20:%20%27%27}`;%20if%20(keys.length%20%3E%20cap)%20return%20`${output}...`;%20else%20return%20output;%20}%20function%20containerToggle(%20containerElement,%20toggleText,%20topText,%20items,%20data,%20k%20)%20{%20if%20(containerElement.className%20==%20%27closed%27)%20{%20containerElement.className%20=%20%27open%27;%20/*%20Show%20root%20hash%20key%20*/%20const%20keyDisp%20=%20`${k%20?%20k%20+%20%27:%20%27%20:%20%27%27}`;%20toggleText.innerText%20=%20`${keyDisp}%E2%96%BC`;%20topText.innerHTML%20=%20%27%27;%20items.style.paddingLeft%20=%20`calc(${keyDisp.length}%20*%208px)`;%20/*%20Show%20*/%20Object.keys(data).forEach((key)%20=%3E%20{%20const%20el%20=%20processLog(data[key],%20key);%20items.append(el);%20rootElement.scrollTop%20=%20rootElement.scrollHeight;%20});%20}%20else%20{%20containerElement.className%20=%20%27closed%27;%20items.innerHTML%20=%20%27%27;%20toggleText.innerText%20=%20`${k%20?%20k%20+%20%27:%20%27%20:%20%27%27}%E2%96%BA`;%20topText.innerText%20=%20createPreview(data);%20}%20}%20function%20processLog(data,%20key)%20{%20const%20logElement%20=%20document.createElement(%27span%27);%20switch%20(typeof%20data)%20{%20case%20%27string%27:%20case%20%27number%27:%20const%20keyDisp%20=%20`${key%20?%20key%20+%20%27:%20%27%20:%20%27%27}`;%20logElement.innerText%20=%20keyDisp%20+%20(typeof%20data%20==%20%27string%27%20?%20data.replace(/(\?\:\\r\\n|\\r|\\n)/g,%20%27%3Cbr%3E%27)%20:%20`${data}`);%20return%20logElement;%20case%20%27undefined%27:%20logElement.innerText%20=%20%27undefined%27;%20return%20logElement;%20case%20null:%20logElement.innerText%20=%20%27null%27;%20return%20logElement;%20case%20%27function%27:%20logElement.innerText%20=%20`${key}:%20Function()`;%20return%20logElement;%20case%20%27boolean%27:%20logElement.innerText%20=%20`${key}:%20${data%20?%20%27true%27%20:%20%27false%27}`;%20return%20logElement;%20default:%20const%20container%20=%20document.createElement(%27jscontainer%27);%20const%20text%20=%20document.createElement(%27span%27);%20const%20toggleText%20=%20document.createElement(%27span%27);%20const%20items%20=%20document.createElement(%27items%27);%20container.className%20=%20%27closed%27;%20toggleText.onclick%20=%20()%20=%3E%20{%20containerToggle(container,%20toggleText,%20text,%20items,%20data,%20key);%20};%20toggleText.innerText%20=%20`${key%20?%20key%20+%20%27:%20%27%20:%20%27%27}%E2%96%BA`;%20text.innerText%20=%20createPreview(data,%20key);%20container.append(toggleText);%20container.append(text);%20container.append(items);%20return%20container;%20}%20}%20opener.jsInputElement%20=%20jsInputElement;%20opener.console.log%20=%20(data)%20=%3E%20{%20const%20logElement%20=%20processLog(data);%20logItems.push(logElement);%20rootElement.append(logElement);%20};%20console.log%20=%20opener.console.log;%20opener.console.error%20=%20(data)%20=%3E%20{%20const%20logElement%20=%20document.createElement(%27span%27);%20logElement.className%20=%20%27error%27;%20logElement.innerHTML%20=%20data;%20logItems.push(logElement);%20rootElement.append(logElement);%20};%20console.error%20=%20opener.console.error;%20opener.console.warn%20=%20(data)%20=%3E%20{%20const%20logElement%20=%20document.createElement(%27span%27);%20logElement.className%20=%20%27warn%27;%20logElement.innerHTML%20=%20data;%20logItems.push(logElement);%20rootElement.append(logElement);%20};%20console.warn%20=%20opener.console.warn;%20headElement.append(styleElement);%20bodyElement.append(rootElement);%20bodyElement.append(jsInputElement);%20let%20asd%20=%20document.createElement(%27script%27);%20asd.innerHTML%20=%20`jsInputElement.addEventListener(%27keyup%27,%20(e)%20=%3E%20{%20if%20(e.key%20===%20%27Enter%27)%20{%20let%20errs%20=%20false;%20console.log(%27%3E%20%27%20+%20jsInputElement.value);%20let%20res%20=%20%27%27;%20try{%20res%20=%20eval(jsInputElement.value)%20}catch(e){%20res%20=%20e;%20errs%20=%20true%20}%20if(errs){%20console.error(res)%20}%20else%20{%20console.log(res)%20};%20jsInputElement.value%20=%20%27%27;%20let%20objDiv%20=%20LithiumGlobalPage.document.getElementById(%27jsconsole%27);%20objDiv.scrollTop%20=%20objDiv.scrollHeight;}%20});`;%20window.opener.document.body.appendChild(asd);%20})();%20%3C/script%3E%20%3C/body%3E%20%3C/html%3E%22)
